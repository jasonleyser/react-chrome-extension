(window["webpackJsonpreact-chrome-extension-boilerplate"]=window["webpackJsonpreact-chrome-extension-boilerplate"]||[]).push([[0],{220:function(e,t,a){e.exports=a(492)},225:function(e,t,a){},247:function(e,t){},249:function(e,t){},258:function(e,t){},260:function(e,t){},285:function(e,t){},287:function(e,t){},288:function(e,t){},293:function(e,t){},295:function(e,t){},301:function(e,t){},303:function(e,t){},322:function(e,t){},334:function(e,t){},337:function(e,t){},363:function(e,t){},4:function(e,t,a){e.exports={"modal-window":"App_modal-window__IwfL_",modalWindow:"App_modalWindow__1u8Cs","modal-window-inner-border":"App_modal-window-inner-border__3MRqC","modal-handle":"App_modal-handle__2h2q9",modalContent:"App_modalContent__1NR5A","modal-content-drawer-handle":"App_modal-content-drawer-handle__2YtXY","modal-close-button":"App_modal-close-button__1PY0Y",modalBody:"App_modalBody__7YUnL",modalButtonBox:"App_modalButtonBox__2bcEx",modalButton:"App_modalButton__3hnlb",modalButtonMain:"App_modalButtonMain__3EngT",modalButtonSVG:"App_modalButtonSVG__XODJy",modalButtonText:"App_modalButtonText__3qD5w",modalButtonShortcut:"App_modalButtonShortcut__E5_Yt",slateButtonSelected:"App_slateButtonSelected__l79IW",modalSearchBar:"App_modalSearchBar__3WVHj",modalSearchInput:"App_modalSearchInput__3sUxK",modalCloseButton:"App_modalCloseButton__3aBs9",metadata:"App_metadata__3J-0D",metadataBox:"App_metadataBox__2Aexa",metadataImage:"App_metadataImage__2ohRy",metadataBox2:"App_metadataBox2__3p5m2","metadata-text":"App_metadata-text__2cOLk",metaDataTitle:"App_metaDataTitle__25qMT",metaDataUrl:"App_metaDataUrl__2WYL9",loaderWindow:"App_loaderWindow__1Eclj",loaderBody:"App_loaderBody__1v8-C",loaderContent:"App_loaderContent__3iTcb",loaderText:"App_loaderText__1ROCI",loaderBox:"App_loaderBox__1qVVH",loaderImage:"App_loaderImage__31l14",loaderFooter:"App_loaderFooter__2bpu5",loaderFooterRight:"App_loaderFooterRight__3o5l4",loaderFooterLeft:"App_loaderFooterLeft__3IBvn",loaderClose:"App_loaderClose__xEwdJ",loaderFadeOut:"App_loaderFadeOut__RfYI8",loaderFadeIn:"App_loaderFadeIn__3H4DX"}},468:function(e,t){},492:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(119),r=a.n(l),c=a(15),i=(a(225),a(45)),d=a.n(i),s=a(75),u=(a(121),a(122),function(){return{windowPosition:{x:100,y:100}}}),m=o.a.createContext({}),p=function(e){var t=e.children,a=u().windowPosition,l=Object(n.useState)(void 0),r=Object(c.a)(l,2),i=r[0],d=r[1],s=Object(n.useState)({query:null}),p=Object(c.a)(s,2),g=(p[0],p[1],Object(n.useState)({title:document.title,description:document.description,url:window.location.href})),_=Object(c.a)(g,2),E=_[0];_[1];return Object(n.useEffect)((function(){window.addEventListener("message",(function(e){e.source===window&&e.data.type&&"EXTENSION_ID_RESULT"===e.data.type&&d(e.data.extensionId)}))}),[]),console.log("document",E),o.a.createElement(m.Provider,{value:{extensionId:i,getExtensionId:function(){window.postMessage({type:"GET_EXTENSION_ID"},"*")},windowPosition:a,pageData:E}},t)},g=a(4),_=a.n(g),E=function(){return o.a.createElement("svg",{style:{marginLeft:"2px"},width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M15 19L8 14L1 19V3C1 2.46957 1.21071 1.96086 1.58579 1.58579C1.96086 1.21071 2.46957 1 3 1H13C13.5304 1 14.0391 1.21071 14.4142 1.58579C14.7893 1.96086 15 2.46957 15 3V19Z",stroke:"#8E8E93","stroke-width":"1.875","stroke-linecap":"round","stroke-linejoin":"round"}))},w=function(){return o.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M19.59 12.41L12.42 19.58C12.2343 19.766 12.0137 19.9135 11.7709 20.0141C11.5281 20.1148 11.2678 20.1666 11.005 20.1666C10.7422 20.1666 10.4819 20.1148 10.2391 20.0141C9.99632 19.9135 9.77575 19.766 9.59 19.58L1 11V1H11L19.59 9.59C19.9625 9.96473 20.1716 10.4716 20.1716 11C20.1716 11.5284 19.9625 12.0353 19.59 12.41V12.41Z",stroke:"#8E8E93","stroke-width":"1.875","stroke-linecap":"round","stroke-linejoin":"round"}))},f=function(){return o.a.createElement("svg",{style:{marginTop:"2px",marginRight:"-6px"},xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#8E8E93","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},o.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),o.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),o.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))},h=function(e){var t;"tag"==e.icon?t=o.a.createElement(w,null):"bookmark"==e.icon?t=o.a.createElement(E,null):"plus"==e.icon&&(t=o.a.createElement(f,null));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{onClick:function(t){t.preventDefault(),window.postMessage({type:"SAVE_LINK",url:e.data.url},"*")},className:_.a.modalButtonMain,style:{display:"table",width:"100%"}},o.a.createElement("div",{style:{display:"table-cell",paddingLeft:"14px",paddingTop:"6px"}},t),o.a.createElement("div",{style:{display:"table-cell",left:"0px",marginBotton:"8px"}},e.text)))},v=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{className:_.a.metadataImage,src:e.url,width:e.width,height:e.height}))},x=function(e){var t,a=e.title.slice(0,30)+(e.title.length>30?"...":"");return console.log("props.image from metadata comp",e.image),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:_.a.metadata},o.a.createElement("div",{className:_.a.metadataBox},o.a.createElement(v,{url:e.image,width:"48px",height:"48px"})),o.a.createElement("div",{className:_.a.metadataBox2},o.a.createElement("div",{className:_.a.metaDataTitle},a),o.a.createElement("div",{className:_.a.metadataUrl},(t=e.url,new URL(t).hostname)))))},y=function(e){var t=Object(n.useState)({query:null}),a=Object(c.a)(t,2),l=a[0],r=a[1],i=function(){var e=Object(s.a)(d.a.mark((function e(t){var a,n,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("shortcuts from the search compnent: ",t.target.value),a=t.target.value.includes("\u2020"),console.log("in the type 1",a),!a){e.next=8;break}return console.log("in the type 2"),n=t.target.value.replace("\u2020","type:"),r({query:n}),e.abrupt("return");case 8:if(!t.target.value.includes("\u0192")){e.next=13;break}return o=t.target.value.replace("\u0192","from:"),r({query:o}),e.abrupt("return");case 13:if(!t.target.value.includes("\u222b")){e.next=20;break}return l=t.target.value.replace("\u222b"," "),r({query:l}),console.log("send message to bookmark"),window.postMessage({type:"SAVE_LINK",url:window.location.href},"*"),e.abrupt("return");case 20:r({query:t.target.value});case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement("input",{className:_.a.modalSearchInput,value:l.query,ref:function(e){return e&&e.focus()},autocomplete:"off",placeholder:"Search your Slate...",onKeyDown:function(e){!function(e){console.log("event from the search compnent: ",e),"Enter"===e.key&&window.postMessage({type:"OPEN_SEARCH",query:e.target.value},"*"),"Escape"===e.key&&window.postMessage({type:"CLOSE_APP"},"*"),"Escape"===e.key&&window.postMessage({type:"CLOSE_APP"},"*")}(e)},onChange:function(e){i(e)}}),o.a.createElement("div",{className:_.a.modalCloseButton,style:{position:"absolute",right:"0px",top:"14px",color:"#48494A",cursor:"pointer"},onClick:function(){window.postMessage({type:"CLOSE_APP"},"*")}},"X"))},b=a(74);a(123),a(124);var A=function(e){var t=Object(n.useState)({query:null}),a=Object(c.a)(t,2),l=(a[0],a[1],Object(n.useState)(!1)),r=Object(c.a)(l,2),i=(r[0],r[1],Object(n.useState)({image:null,title:null})),d=Object(c.a)(i,2);d[0],d[1];return window.addEventListener("message",(function(e){console.log("yes an event was called in the modal",e),"UPLOAD_IMAGE"===e.data.type&&console.log("uploading image not main")})),o.a.createElement(m.Consumer,null,(function(t){t.windowPosition,t.hasDraggedWindowPosition,t.extensionId,t.getExtensionId;var a=t.pageData;return o.a.createElement("div",{id:"modal",className:_.a.modalWindow},o.a.createElement("div",null,o.a.createElement("div",{className:_.a.modalBody},o.a.createElement("div",{className:_.a.modalContent},o.a.createElement("div",{className:_.a.modalSearchBar},o.a.createElement(y,null)),o.a.createElement(x,{url:a.url,title:a.title,image:e.image}),o.a.createElement("div",{style:{margin:"0 auto",overflow:"auto",width:"352px",height:"162px",borderRadius:"12px"},className:_.a.modalButtonBox},o.a.createElement(h,{text:"Bookmark to Slate",shortcut:"Option B",icon:"bookmark",data:a}),o.a.createElement(h,{text:"Save text from page",shortcut:"Option S",icon:"tag"}),o.a.createElement(h,{text:"Add to collection",shortcut:"Option C",icon:"plus"}),o.a.createElement(h,{text:"Save link to Slate",shortcut:"Option S",icon:"plus"}))))))}))},O=(a(123),a(124),function(e){var t=Object(n.useState)(!0),a=Object(c.a)(t,2),l=a[0],r=a[1],i=Object(n.useState)({status:!0,data:null}),d=Object(c.a)(i,2),s=d[0],u=d[1],p=function(){console.log("hovering now")};Object(n.useEffect)((function(){if(console.log(s.status),!s.status){console.log("starting timer");var e=setTimeout((function(){console.log("This will run after 3 second!"),r(!1)}),5e3);return function(){return clearTimeout(e)}}}),[]),window.addEventListener("message",(function(e){"UPLOAD_DONE"===e.data.type&&(console.log("this is the data from the upload",e),u({status:!1}))}));var g=document.title.slice(0,25)+(document.title.length>25?"...":""),E=function(){r(!1)};function w(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:_.a.loaderFooterLeft},"Saving..."))}function f(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:_.a.loaderFooterLeft},"Saved"),o.a.createElement("div",{className:_.a.loaderFooterRight},o.a.createElement("a",{href:"#",style:{color:"#0084FF",fontWeight:"600",textDecoration:"none"},target:"_blank"},"View")))}var h=o.a.createElement(w,null);return s.status||(h=o.a.createElement(f,null)),o.a.createElement("div",{className:l?_.a.loaderFadeIn:_.a.loaderFadeOut},o.a.createElement(m.Consumer,null,(function(t){t.windowPosition,t.hasDraggedWindowPosition,t.extensionId,t.getExtensionId,t.pageData;return o.a.createElement(o.a.Fragment,null,l?o.a.createElement("div",{id:"modal",className:_.a.loaderWindow,onMouseEnter:p},o.a.createElement("div",{className:_.a.loaderBody},o.a.createElement("div",{className:_.a.loaderContent},o.a.createElement("div",{className:_.a.loaderText},o.a.createElement("img",{className:_.a.loaderImage,src:e.image}),g,o.a.createElement("div",{onClick:E,className:_.a.loaderClose},"X")),o.a.createElement("div",{className:_.a.loaderFooter},h)))):o.a.createElement("div",null))})))});var B=function(){var e=Object(n.useState)(!0),t=Object(c.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(!1),i=Object(c.a)(r,2),d=i[0],s=i[1],u=Object(n.useState)({image:null,title:null}),m=Object(c.a)(u,2),g=m[0],_=m[1];return window.addEventListener("message",(function(e){console.log("there is a message in the app"),"UPLOAD_START"===e.data.type&&(l(!1),s(!0)),"CLOSE_APP"===e.data.type&&l(!1),"OPEN_LOADING"===e.data.type&&(l(!1),s(!0))})),Object(n.useEffect)((function(){var e=function(){var e;if(document.querySelector("meta[property='og:image']"))e=document.querySelector("meta[property='og:image']").getAttribute("content");else{var t=document.getElementsByTagName("img")[1];console.log("first",t),e=t.src}return e}();_({image:e})}),[]),console.log("isOpened: ",a),o.a.createElement(o.a.Fragment,null,a&&o.a.createElement(p,null,o.a.createElement("div",null,o.a.createElement(b.a,{keyName:"alt+s,esc,alt+b",onKeyDown:function(e,t,a){console.log("test:onKeyDown",e),"esc"==e&&l(!1),"alt+b"==e&&console.log("save a bookmark")}.bind(this),onKeyUp:function(e,t,a){console.log("test:onKeyUp",t,a)}.bind(this)},o.a.createElement(A,{image:g.image})))),d&&o.a.createElement(O,{image:g.image}))};r.a.render(o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.StrictMode,null,o.a.createElement(B,null))),document.getElementById("modal-window"))}},[[220,1,2]]]);
//# sourceMappingURL=main.e93d9dba.chunk.js.map